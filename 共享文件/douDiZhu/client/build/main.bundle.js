!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=110)}([function(t,e,n){var r=n(42)("wks"),o=n(26),a=n(2).Symbol,i="function"==typeof a;(t.exports=function(t){return r[t]||(r[t]=i&&a[t]||(i?a:o)("Symbol."+t))}).store=r},function(t,e,n){var r=n(9),o=n(100),a=n(99),i=Object.defineProperty;e.f=n(4)?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),o)try{return i(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(2),o=n(5),a=n(10),i=n(8),u=function(t,e,n){var l,s,c,f=t&u.F,d=t&u.G,v=t&u.S,p=t&u.P,y=t&u.B,h=t&u.W,_=d?o:o[e]||(o[e]={}),g=_.prototype,x=d?r:v?r[e]:(r[e]||{}).prototype;for(l in d&&(n=e),n)(s=!f&&x&&void 0!==x[l])&&l in _||(c=s?x[l]:n[l],_[l]=d&&"function"!=typeof x[l]?n[l]:y&&s?a(c,r):h&&x[l]==c?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):p&&"function"==typeof c?a(Function.call,c):c,p&&((_.virtual||(_.virtual={}))[l]=c,t&u.R&&g&&!g[l]&&i(g,l,c)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){t.exports=!n(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(1),o=n(29);t.exports=n(4)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(7);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(45);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports={}},function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(81),a=(r=o)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={default:n(87),__esModule:!0}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=window.G={};window.G.init=function(){var t=document.getElementsByClassName("leftPlayer")[0],e=document.getElementsByClassName("rightPlayer")[0],n=document.getElementsByClassName("player")[0],o=document.getElementsByClassName("mainArea")[0],a=document.getElementsByClassName("scoreArea")[0],i=document.getElementsByClassName("timer")[0],u=document.getElementsByClassName("dipai")[0],l=document.getElementById("startBtn");r.leftPlayerContainer=t,r.rightPlayerContainer=e,r.ownPlayerContainer=n,r.mainAreaContainer=o,r.scoreAreaContainer=a,r.timerAreaContainer=i,r.dipaiAreaContainer=u,r.startBtn=l,r.PLAYER_CONTAINER_INSERT_DIRECTION_LTR="ltr",r.PLAYER_CONTAINER_INSERT_DIRECTION_TTB="ttb",r.CARD_CLASSNAME="card",r.CONTAINER_CLICK="auto",r.CONTAINER_NO_CLICK="none",r.DEALCARD_RATE=60,r.OVERLAP_FACTOR=.7,r.OVERLAP_FACTOR_TTB=.07,r.CADR_IMG_ADDR="../assets/poker.png",r.CARD_BACK_POS="-1729px -671px",r.players=[],r.SOCKETIO_PLAYERREADY="playerReady",r.SOCKETIO_JOINROOM="room_1",r.SOCKETIO_ROBLORD="robLord",r.SOCKETIO_DRAWCARD="drawCard",r.SOCKETIO_NEWS_PRIVATE="news_private",r.SOCKETIO_NEWS_BROADCAST="news_broadcast",r.SOCKETIO_ASSIGNROBLORD_ON="assignRobLord_on",r.SOCKETIO_ASSIGNROBLORD_OFF="assignRobLord_off",r.SOCKETIO_ASSIGNLORD="assignLord",r.SOCKETIO_ASSIGNWINNER="assignWinner",r.SOCKETIO_ASSIGNLOSER="assignLoser",r.SOCKETIO_ASSIGNDRAWCARD_ON="assignDrawCard_on",r.SOCKETIO_ASSIGNDRAWCARD_OFF="assignDrawCard_off"},e.default=r},function(t,e,n){var r=n(10),o=n(40),a=n(39),i=n(9),u=n(19),l=n(22),s={},c={};(e=t.exports=function(t,e,n,f,d){var v,p,y,h,_=d?function(){return t}:l(t),g=r(n,f,e?2:1),x=0;if("function"!=typeof _)throw TypeError(t+" is not iterable!");if(a(_)){for(v=u(t.length);v>x;x++)if((h=e?g(i(p=t[x])[0],p[1]):g(t[x]))===s||h===c)return h}else for(y=_.call(t);!(p=y.next()).done;)if((h=o(y,g,p.value,e))===s||h===c)return h}).BREAK=s,e.RETURN=c},function(t,e,n){"use strict";var r=n(89)(!0);n(30)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(28),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){t.exports={default:n(85),__esModule:!0}},function(t,e,n){var r=n(23),o=n(0)("iterator"),a=n(11);t.exports=n(5).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||a[r(t)]}},function(t,e,n){var r=n(31),o=n(0)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},function(t,e,n){var r=n(20);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(1).f,o=n(14),a=n(0)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(42)("keys"),o=n(26);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var r=n(101),o=n(3),a=n(98),i=n(8),u=n(14),l=n(11),s=n(97),c=n(25),f=n(90),d=n(0)("iterator"),v=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,y,h,_,g){s(n,e,y);var x,m,E,O=function(t){if(!v&&t in R)return R[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",P="values"==h,T=!1,R=t.prototype,A=R[d]||R["@@iterator"]||h&&R[h],w=!v&&A||O(h),S=h?P?O("entries"):w:void 0,I="Array"==e&&R.entries||A;if(I&&(E=f(I.call(new t)))!==Object.prototype&&E.next&&(c(E,C,!0),r||u(E,d)||i(E,d,p)),P&&A&&"values"!==A.name&&(T=!0,w=function(){return A.call(this)}),r&&!g||!v&&!T&&R[d]||i(R,d,w),l[e]=w,l[C]=p,h)if(x={values:P?w:O("values"),keys:_?w:O("keys"),entries:S},g)for(m in x)m in R||a(R,m,x[m]);else o(o.P+o.F*(v||T),e,x);return x}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(46),o=n(20);t.exports=function(t){return r(o(t))}},function(t,e,n){n(103);for(var r=n(2),o=n(8),a=n(11),i=n(0)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<u.length;l++){var s=u[l],c=r[s],f=c&&c.prototype;f&&!f[i]&&o(f,i,s),a[s]=a.Array}},function(t,e,n){var r=n(7);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var r=n(26)("meta"),o=n(7),a=n(14),i=n(1).f,u=0,l=Object.isExtensible||function(){return!0},s=!n(15)(function(){return l(Object.preventExtensions({}))}),c=function(t){i(t,r,{value:{i:"O"+ ++u,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!a(t,r)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return s&&f.NEED&&l(t)&&!a(t,r)&&c(t),t}}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(8);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:r(t,o,e[o]);return t}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(11),o=n(0)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[o]===t)}},function(t,e,n){var r=n(9);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&r(a.call(t)),e}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(2),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var r=n(9),o=n(96),a=n(41),i=n(27)("IE_PROTO"),u=function(){},l=function(){var t,e=n(44)("iframe"),r=a.length;for(e.style.display="none",n(91).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l.prototype[a[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[i]=t):n=l(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(7),o=n(2).document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(31);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(105)),o=a(n(13));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var u,l=(0,o.default)(t);!(r=(u=l.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{!r&&l.return&&l.return()}finally{if(a)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(12)),a=i(n(16));function i(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){(0,r.default)(this,t)}return(0,o.default)(t,null,[{key:"show",value:function(){if(null==t.instance){var e=document.createElement("div");e.style.position="absolute",e.style.width="1000px",e.style.height="40px",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%)",e.style.display="flex",e.style.justifyContent="space-around",e.style.alignItems="center";var n=document.createElement("button");n.innerHTML="准备",e.appendChild(n),n.onclick=function(){t.sendReadyStatus(n.innerHTML)},document.getElementsByTagName("body")[0].appendChild(e),t.instance=e}else t.instance.style.display="flex"}},{key:"hide",value:function(){null!=t.instance&&(t.instance.style.display="none")}},{key:"remove",value:function(){null!=t.instance&&(document.getElementsByTagName("body")[0].removeChild(t.instance),t.instance=null)}},{key:"sendReadyStatus",value:function(e){a.default.socket.emit(a.default.SOCKETIO_PLAYERREADY,e),t.hide()}}]),t}();u.instance=null,e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(13)),o=l(n(21)),a=l(n(6)),i=l(n(12)),u=l(n(16));function l(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){(0,a.default)(this,t)}return(0,i.default)(t,null,[{key:"show",value:function(){if(null==t.instance){var e=document.createElement("div");e.style.position="absolute",e.style.width="1000px",e.style.height="40px",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%)",e.style.display="flex",e.style.justifyContent="space-around",e.style.alignItems="center";var n=document.createElement("button"),r=document.createElement("button"),a=document.createElement("button"),i=document.createElement("button");n.innerHTML="1分",r.innerHTML="2分",a.innerHTML="3分",i.innerHTML="不叫",e.appendChild(n),e.appendChild(r),e.appendChild(a),e.appendChild(i),(0,o.default)(e.getElementsByTagName("button")).forEach(function(e){e.onclick=function(){t.sendPoint(e.innerHTML),t.hide()}}),document.getElementsByTagName("body")[0].appendChild(e),t.instance=e,t.hide(),t.addSocketListener()}else t.instance.style.display="flex"}},{key:"hide",value:function(){null!=t.instance&&(t.instance.style.display="none")}},{key:"remove",value:function(){null!=t.instance&&(document.getElementsByTagName("body")[0].removeChild(t.instance),t.instance=null)}},{key:"addSocketListener",value:function(){var e=u.default.socket;e.on(u.default.SOCKETIO_ASSIGNROBLORD_OFF,function(){t.hide()}),e.on(u.default.SOCKETIO_ASSIGNROBLORD_ON,function(e){window.console.log("socket 收到叫地主事件: "+e),t.show(),t.activateBtn(e)})}},{key:"sendPoint",value:function(t){u.default.socket.emit(u.default.SOCKETIO_ROBLORD,t)}},{key:"activateBtn",value:function(e){var n=(0,o.default)(t.instance.getElementsByTagName("button")),a=!0,i=!1,u=void 0;try{for(var l,s=(0,r.default)(n);!(a=(l=s.next()).done);a=!0){var c=l.value;e.includes(c.innerHTML)?(c.disabled=!1,c.style.backgroundColor="blue"):(c.disabled=!0,c.style.backgroundColor="grey")}}catch(t){i=!0,u=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw u}}n[n.length-1].disabled=!1,n[n.length-1].style.backgroundColor="blue"}}]),t}();s.instance=null,e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(6),a=(r=o)&&r.__esModule?r:{default:r};e.default=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"robot"+100*Math.random(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,a.default)(this,t),this.name=e,this.uid=n,this.isLord=!1,this.giveUpLord=!1,this.nextPlayer=null,this.isReady=!1,this.isLeave=!1,this.cardList=[],this.isOwn=!1,this.selectedCardList=[],this.isCurrentPlayer=!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(13)),o=i(n(6)),a=i(n(12));function i(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){(0,o.default)(this,t)}return(0,a.default)(t,null,[{key:"getNewCard",value:function(){return t.data.slice(0)}},{key:"getIconPos",value:function(e,n){var o=!0,a=!1,i=void 0;try{for(var u,l=(0,r.default)(t.data);!(o=(u=l.next()).done);o=!0){var s=u.value;if(s.type==e&&s.val==n)return s.iconPos}}catch(t){a=!0,i=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw i}}}}]),t}();u.data=[{iconPos:"-1729px -100px",type:"0",val:17},{iconPos:"-1860px -100px",type:"0",val:16},{iconPos:"-35px -100px",type:"1",val:14},{iconPos:"-166px -100px",type:"1",val:15},{iconPos:"-297px -100px",type:"1",val:3},{iconPos:"-556px -100px",type:"1",val:4},{iconPos:"-687px -100px",type:"1",val:5},{iconPos:"-427px -100px",type:"1",val:6},{iconPos:"-817px -100px",type:"1",val:7},{iconPos:"-948px -100px",type:"1",val:8},{iconPos:"-1077px -100px",type:"1",val:9},{iconPos:"-1208px -100px",type:"1",val:10},{iconPos:"-1339px -100px",type:"1",val:11},{iconPos:"-1469px -100px",type:"1",val:12},{iconPos:"-1599px -100px",type:"1",val:13},{iconPos:"-35px -291px",type:"2",val:14},{iconPos:"-166px -291px",type:"2",val:15},{iconPos:"-297px -291px",type:"2",val:3},{iconPos:"-427px -291px",type:"2",val:4},{iconPos:"-556px -291px",type:"2",val:5},{iconPos:"-687px -291px",type:"2",val:6},{iconPos:"-817px -291px",type:"2",val:7},{iconPos:"-948px -291px",type:"2",val:8},{iconPos:"-1077px -291px",type:"2",val:9},{iconPos:"-1208px -291px",type:"2",val:10},{iconPos:"-1339px -291px",type:"2",val:11},{iconPos:"-1469px -291px",type:"2",val:12},{iconPos:"-1599px -291px",type:"2",val:13},{iconPos:"-35px -481px",type:"3",val:14},{iconPos:"-166px -481px",type:"3",val:15},{iconPos:"-297px -481px",type:"3",val:3},{iconPos:"-427px -481px",type:"3",val:4},{iconPos:"-556px -481px",type:"3",val:5},{iconPos:"-687px -481px",type:"3",val:6},{iconPos:"-817px -481px",type:"3",val:7},{iconPos:"-948px -481px",type:"3",val:8},{iconPos:"-1077px -481px",type:"3",val:9},{iconPos:"-1208px -481px",type:"3",val:10},{iconPos:"-1339px -481px",type:"3",val:11},{iconPos:"-1469px -481px",type:"3",val:12},{iconPos:"-1599px -481px",type:"3",val:13},{iconPos:"-35px -671px",type:"4",val:14},{iconPos:"-166px -671px",type:"4",val:15},{iconPos:"-297px -671px",type:"4",val:3},{iconPos:"-427px -671px",type:"4",val:4},{iconPos:"-556px -671px",type:"4",val:5},{iconPos:"-687px -671px",type:"4",val:6},{iconPos:"-817px -671px",type:"4",val:7},{iconPos:"-948px -671px",type:"4",val:8},{iconPos:"-1077px -671px",type:"4",val:9},{iconPos:"-1208px -671px",type:"4",val:10},{iconPos:"-1339px -671px",type:"4",val:11},{iconPos:"-1469px -671px",type:"4",val:12},{iconPos:"-1599px -671px",type:"4",val:13}],e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(6)),o=a(n(16));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,n,a,i){(0,r.default)(this,t),this.cardNum=e,this.cardType=n,this.parentContainer=i;var u=document.createElement("div");u.style.position="absolute",u.style.cursor="pointer",u.style.userSelect="none",u.style.backgroundPosition=this.parentContainer===o.default.ownPlayerContainer?a:o.default.CARD_BACK_POS,u.setAttribute("class","card"),this.domInstance=u,this.domInstance.setAttribute("type",this.cardType),this.domInstance.setAttribute("val",this.cardNum)}},function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(21),a=(r=o)&&r.__esModule?r:{default:r};e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a.default)(t)}},function(t,e,n){"use strict";var r=n(3),o=n(45),a=n(10),i=n(17);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,u,l=arguments[1];return o(this),(e=void 0!==l)&&o(l),void 0==t?new this:(n=[],e?(r=0,u=a(l,arguments[2],2),i(t,!1,function(t){n.push(u(t,r++))})):i(t,!1,n.push,n),new this(n))}})}},function(t,e,n){n(55)("Map")},function(t,e,n){"use strict";var r=n(3);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){n(57)("Map")},function(t,e,n){var r=n(17);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){var r=n(23),o=n(59);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,e,n){var r=n(3);r(r.P+r.R,"Map",{toJSON:n(60)("Map")})},function(t,e,n){var r=n(31);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(7),o=n(62),a=n(0)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(63);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(10),o=n(46),a=n(24),i=n(19),u=n(64);t.exports=function(t,e){var n=1==t,l=2==t,s=3==t,c=4==t,f=6==t,d=5==t||f,v=e||u;return function(e,u,p){for(var y,h,_=a(e),g=o(_),x=r(u,p,3),m=i(g.length),E=0,O=n?v(e,m):l?v(e,0):void 0;m>E;E++)if((d||E in g)&&(h=x(y=g[E],E,_),t))if(n)O[E]=h;else if(h)switch(t){case 3:return!0;case 5:return y;case 6:return E;case 2:O.push(y)}else if(c)return!1;return f?-1:s||c?c:O}}},function(t,e,n){"use strict";var r=n(2),o=n(3),a=n(35),i=n(15),u=n(8),l=n(37),s=n(17),c=n(36),f=n(7),d=n(25),v=n(1).f,p=n(65)(0),y=n(4);t.exports=function(t,e,n,h,_,g){var x=r[t],m=x,E=_?"set":"add",O=m&&m.prototype,C={};return y&&"function"==typeof m&&(g||O.forEach&&!i(function(){(new m).entries().next()}))?(m=e(function(e,n){c(e,m,t,"_c"),e._c=new x,void 0!=n&&s(n,_,e[E],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in O&&(!g||"clear"!=t)&&u(m.prototype,t,function(n,r){if(c(this,m,t),!e&&g&&!f(n))return"get"==t&&void 0;var o=this._c[t](0===n?0:n,r);return e?this:o})}),g||v(m.prototype,"size",{get:function(){return this._c.size}})):(m=h.getConstructor(e,t,_,E),l(m.prototype,n),a.NEED=!0),d(m,t),C[t]=m,o(o.G+o.W+o.F,C),g||h.setStrong(m,t,_),m}},function(t,e,n){"use strict";var r=n(2),o=n(5),a=n(1),i=n(4),u=n(0)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:r[t];i&&e&&!e[u]&&a.f(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(1).f,o=n(43),a=n(37),i=n(10),u=n(36),l=n(17),s=n(30),c=n(47),f=n(67),d=n(4),v=n(35).fastKey,p=n(34),y=d?"_s":"size",h=function(t,e){var n,r=v(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,s){var c=t(function(t,r){u(t,c,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=r&&l(r,n,t[s],t)});return a(c.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var n=p(this,e),r=h(n,t);if(r){var o=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=o),o&&(o.p=a),n._f==r&&(n._f=o),n._l==r&&(n._l=a),n[y]--}return!!r},forEach:function(t){p(this,e);for(var n,r=i(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!h(p(this,e),t)}}),d&&r(c.prototype,"size",{get:function(){return p(this,e)[y]}}),c},def:function(t,e,n){var r,o,a=h(t,e);return a?a.v=n:(t._l=a={i:o=v(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=a),r&&(r.n=a),t[y]++,"F"!==o&&(t._i[o]=a)),t},getEntry:h,setStrong:function(t,e,n){s(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,c(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(68),o=n(34);t.exports=n(66)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(o(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(o(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e){},function(t,e,n){n(70),n(18),n(33),n(69),n(61),n(58),n(56),t.exports=n(5).Map},function(t,e,n){t.exports={default:n(71),__esModule:!0}},function(t,e,n){var r=n(3),o=n(20),a=n(15),i=n(38),u="["+i+"]",l=RegExp("^"+u+u+"*"),s=RegExp(u+u+"*$"),c=function(t,e,n){var o={},u=a(function(){return!!i[t]()||"​"!="​"[t]()}),l=o[t]=u?e(f):i[t];n&&(o[n]=l),r(r.P+r.F*u,"String",o)},f=c.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(s,"")),t};t.exports=c},function(t,e,n){var r=n(2).parseInt,o=n(73).trim,a=n(38),i=/^[-+]?0[xX]/;t.exports=8!==r(a+"08")||22!==r(a+"0x16")?function(t,e){var n=o(String(t),3);return r(n,e>>>0||(i.test(n)?16:10))}:r},function(t,e,n){var r=n(3),o=n(74);r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(t,e,n){n(75),t.exports=parseInt},function(t,e,n){t.exports={default:n(76),__esModule:!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(77)),o=c(n(72)),a=c(n(48)),i=c(n(13)),u=c(n(54)),l=c(n(6)),s=c(n(12));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(){(0,l.default)(this,t)}return(0,s.default)(t,null,[{key:"typeJudge",value:function(e){var n=e.length;switch(n){case 1:return{cardKind:t.ONE,val:e[0].val,size:n};case 2:return t.isPairs(e)?{cardKind:t.PAIRS,val:e[0].val,size:n}:t.isKingBomb(e)?{cardKind:t.KING_BOMB,val:e[0].val,size:n}:null;case 3:return t.isThree(e)?{cardKind:t.THREE,val:e[0].val,size:n}:null;case 4:return t.isThreeWithOne(e)?{cardKind:t.THREE_WITH_ONE,val:t.getMaxVal(e,3),size:n}:t.isBomb(e)?{cardKind:t.BOMB,val:e[0].val,size:n}:null;default:return t.isProgression(e)?{cardKind:t.PROGRESSION,val:e[0].val,size:n}:t.isProgressionPairs(e)?{cardKind:t.PROGRESSION_PAIRS,val:e[0].val,size:n}:t.isThreeWithPairs(e)?{cardKind:t.THREE_WITH_PAIRS,val:t.getMaxVal(e,3),size:n}:t.isPlane(e)?{cardKind:t.PLANE,val:t.getMaxVal(e,3),size:n}:t.isPlaneWithOne(e)?{cardKind:t.PLANE_WITH_ONE,val:t.getMaxVal(e,3),size:n}:t.isPlaneWithPairs(e)?{cardKind:t.PLANE_WITH_PAIRS,val:t.getMaxVal(e,3),size:n}:t.isFourWithTwo(e)?{cardKind:t.FOUR_WITH_TWO,val:t.getMaxVal(e,4),size:n}:t.isFourWithPairs(e)?{cardKind:t.FOUR_WITH_TWO_PAIRS,val:t.getMaxVal(e,4),size:n}:null}}},{key:"isPairs",value:function(t){return 2==t.length&&t[0].val===t[1].val}},{key:"isThree",value:function(t){return 3==t.length&&t[0].val===t[1].val&&t[1].val===t[2].val}},{key:"isThreeWithOne",value:function(e){if(4!=e.length)return!1;var n=t.valCount(e),r=[].concat((0,u.default)(n.values()));return 2===n.size()&&(3===r[0]||3===r[0])}},{key:"isThreeWithPairs",value:function(e){if(5!=e.length)return!1;var n=t.valCount(e),r=[].concat((0,u.default)(n.values()));return 2===n.size()&&(3===r[0]||3===r[1])}},{key:"isProgression",value:function(t){if(t.length<5||15===t[0].val)return!1;for(var e=0;e<t.length;e++)if(e!=t.length-1&&t[e].val-1!=t[e+1].val)return!1;return!0}},{key:"isProgressionPairs",value:function(t){if(t.length<6||t.length%2!=0||15===t[0].val)return!1;for(var e=0;e<t.length;e+=2)if(e!=t.length-2&&(t[e].val!=t[e+1].val||t[e].val-1!=t[e+2].val))return!1;return!0}},{key:"isPlane",value:function(t){if(t.length<6||t.length%3!=0||15===t[0].val)return!1;for(var e=0;e<t.length;e+=3)if(e!=t.length-3&&(t[e].val!=t[e+1].val||t[e].val!=t[e+2].val||t[e].val-1!=t[e+3].val))return!1;return!0}},{key:"isPlaneWithOne",value:function(e){if(e.length<8||e.length%4!=0)return!1;var n=t.valCount(e),r=[],o=e.length/4,u=!0,l=!1,s=void 0;try{for(var c,f=(0,i.default)(n.entries());!(u=(c=f.next()).done);u=!0){var d=(0,a.default)(c.value,2),v=d[0],p=d[1];3==p&&r.push({val:v,count:p})}}catch(t){l=!0,s=t}finally{try{!u&&f.return&&f.return()}finally{if(l)throw s}}if(r.length!=o||15===r[0].val)return!1;for(var y=0;y<r.length;y++)if(y!=r.length-1&&r[y].val-1!=r[y+1].val)return!1;return!0}},{key:"isPlaneWithPairs",value:function(e){if(e.length<10||e.length%5!=0)return!1;var n=t.valCount(e),r=[],o=[],u=e.length/5,l=!0,s=!1,c=void 0;try{for(var f,d=(0,i.default)(n.entries());!(l=(f=d.next()).done);l=!0){var v=(0,a.default)(f.value,2),p=v[0],y=v[1];if(3==y)r.push({val:p,count:y});else{if(2!=y)return!1;o.push({val:p,count:y})}}}catch(t){s=!0,c=t}finally{try{!l&&d.return&&d.return()}finally{if(s)throw c}}if(r.length!=u||o.length!=u||15===r[0].val)return!1;for(var h=0;h<r.length;h++)if(h!=r.length-1&&r[h].val-1!=r[h+1].val)return!1;return!0}},{key:"isFourWithTwo",value:function(e){var n=t.valCount(e);if(6!=e.length||n.size()>3)return!1;var r=!0,o=!1,a=void 0;try{for(var u,l=(0,i.default)(n.values());!(r=(u=l.next()).done);r=!0){if(4===u.value)return!0}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return!1}},{key:"isFourWithPairs",value:function(e){if(8!=e.length)return!1;var n=t.valCount(e);if(3!=n.size())return!1;var r=!0,o=!1,a=void 0;try{for(var u,l=(0,i.default)(n.values());!(r=(u=l.next()).done);r=!0){var s=u.value;if(4!=s&&2!=s)return!1}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return!0}},{key:"isBomb",value:function(t){return 4===t.length&&t[0].val===t[1].val&&t[0].val===t[2].val&&t[0].val===t[3].val}},{key:"isKingBomb",value:function(t){return 2===t.length&&"0"==t[0].type&&"0"==t[1].type}},{key:"random",value:function(t,e){return t=null==t?0:t,e=null==e?1:e,Math.floor(Math.random()*(e-t+1)+t)}},{key:"valCount",value:function(t){for(var e=new o.default,n=function(t,e){if(1==t.has(e)){var n=t.get(e);n+=1,t.set(e,n)}else t.set(e,1)},r=0;r<t.length;r++)n(e,t[r].val);return e}},{key:"getMaxVal",value:function(e,n){var r=t.valCount(e),o=0,u=!0,l=!1,s=void 0;try{for(var c,f=(0,i.default)(r.entries());!(u=(c=f.next()).done);u=!0){var d=(0,a.default)(c.value,2),v=d[0];d[1]===n&&v>o&&(o=v)}}catch(t){l=!0,s=t}finally{try{!u&&f.return&&f.return()}finally{if(l)throw s}}return o}},{key:"cardSort",value:function(t,e){var n=(0,r.default)(t.val),o=(0,r.default)(e.val);return n===o?t.type>e.type?1:-1:n>o?-1:1}}]),t}();f.ONE=1,f.PAIRS=2,f.THREE=3,f.THREE_WITH_ONE=4,f.THREE_WITH_PAIRS=5,f.PROGRESSION=6,f.PROGRESSION_PAIRS=7,f.PLANE=8,f.PLANE_WITH_ONE=9,f.PLANE_WITH_PAIRS=10,f.FOUR_WITH_TWO=11,f.FOUR_WITH_TWO_PAIRS=12,f.BOMB=13,f.KING_BOMB=14,f.MSG_NO_SELECT="请选择要出的牌",f.MSG_ERROR_TYPE="您选的牌不符合游戏规则",f.MSG_NO_ROB_RESTART="没人叫地主，重新发牌",f.DESK_STATUS_READY=1,f.DESK_STATUS_ROB=2,f.DESK_STATUS_PLAY=3,e.default=f},function(t,e,n){var r=n(3);r(r.S+r.F*!n(4),"Object",{defineProperty:n(1).f})},function(t,e,n){n(79);var r=n(5).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){t.exports={default:n(80),__esModule:!0}},function(t,e,n){var r=n(0)("iterator"),o=!1;try{var a=[7][r]();a.return=function(){o=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var a=[7],i=a[r]();i.next=function(){return{done:n=!0}},a[r]=function(){return i},t(a)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(1),o=n(29);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){"use strict";var r=n(10),o=n(3),a=n(24),i=n(40),u=n(39),l=n(19),s=n(83),c=n(22);o(o.S+o.F*!n(82)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,f,d=a(t),v="function"==typeof this?this:Array,p=arguments.length,y=p>1?arguments[1]:void 0,h=void 0!==y,_=0,g=c(d);if(h&&(y=r(y,p>2?arguments[2]:void 0,2)),void 0==g||v==Array&&u(g))for(n=new v(e=l(d.length));e>_;_++)s(n,_,h?y(d[_],_):d[_]);else for(f=g.call(d),n=new v;!(o=f.next()).done;_++)s(n,_,h?i(f,y,[o.value,_],!0):o.value);return n.length=_,n}})},function(t,e,n){n(18),n(84),t.exports=n(5).Array.from},function(t,e,n){var r=n(9),o=n(22);t.exports=n(5).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){n(33),n(18),t.exports=n(86)},function(t,e,n){var r=n(23),o=n(0)("iterator"),a=n(11);t.exports=n(5).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||a.hasOwnProperty(r(e))}},function(t,e,n){var r=n(28),o=n(20);t.exports=function(t){return function(e,n){var a,i,u=String(o(e)),l=r(n),s=u.length;return l<0||l>=s?t?"":void 0:(a=u.charCodeAt(l))<55296||a>56319||l+1===s||(i=u.charCodeAt(l+1))<56320||i>57343?t?u.charAt(l):a:t?u.slice(l,l+2):i-56320+(a-55296<<10)+65536}}},function(t,e,n){var r=n(14),o=n(24),a=n(27)("IE_PROTO"),i=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?i:null}},function(t,e,n){var r=n(2).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(28),o=Math.max,a=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):a(t,e)}},function(t,e,n){var r=n(32),o=n(19),a=n(92);t.exports=function(t){return function(e,n,i){var u,l=r(e),s=o(l.length),c=a(i,s);if(t&&n!=n){for(;s>c;)if((u=l[c++])!=u)return!0}else for(;s>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(14),o=n(32),a=n(93)(!1),i=n(27)("IE_PROTO");t.exports=function(t,e){var n,u=o(t),l=0,s=[];for(n in u)n!=i&&r(u,n)&&s.push(n);for(;e.length>l;)r(u,n=e[l++])&&(~a(s,n)||s.push(n));return s}},function(t,e,n){var r=n(94),o=n(41);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(1),o=n(9),a=n(95);t.exports=n(4)?Object.defineProperties:function(t,e){o(t);for(var n,i=a(e),u=i.length,l=0;u>l;)r.f(t,n=i[l++],e[n]);return t}},function(t,e,n){"use strict";var r=n(43),o=n(29),a=n(25),i={};n(8)(i,n(0)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(i,{next:o(1,n)}),a(t,e+" Iterator")}},function(t,e,n){t.exports=n(8)},function(t,e,n){var r=n(7);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){t.exports=!n(4)&&!n(15)(function(){return 7!=Object.defineProperty(n(44)("div"),"a",{get:function(){return 7}}).a})},function(t,e){t.exports=!0},function(t,e){t.exports=function(){}},function(t,e,n){"use strict";var r=n(102),o=n(47),a=n(11),i=n(32);t.exports=n(30)(Array,"Array",function(t,e){this._t=i(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(t,e,n){n(33),n(18),t.exports=n(88)},function(t,e,n){t.exports={default:n(104),__esModule:!0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag",s="object"==typeof t,c=e.regeneratorRuntime;if(c)s&&(t.exports=c);else{(c=e.regeneratorRuntime=s?t.exports:{}).wrap=m;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={},h={};h[i]=function(){return this};var _=Object.getPrototypeOf,g=_&&_(_(L([])));g&&g!==r&&o.call(g,i)&&(h=g);var x=P.prototype=O.prototype=Object.create(h);C.prototype=x.constructor=P,P.constructor=C,P[l]=C.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===C||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,P):(t.__proto__=P,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(x),t},c.awrap=function(t){return{__await:t}},T(R.prototype),R.prototype[u]=function(){return this},c.AsyncIterator=R,c.async=function(t,e,n,r){var o=new R(m(t,e,n,r));return c.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},T(x),x[l]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,o){return u.type="throw",u.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=o.call(i,"catchLoc"),s=o.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),y}}}function m(t,e,n,r){var o=e&&e.prototype instanceof O?e:O,a=Object.create(o.prototype),i=new I(r||[]);return a._invoke=function(t,e,n){var r=f;return function(o,a){if(r===v)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw a;return N()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var u=A(i,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=v;var l=E(t,e,n);if("normal"===l.type){if(r=n.done?p:d,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(t,n,i),a}function E(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function O(){}function C(){}function P(){}function T(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function R(t){var e;this._invoke=function(n,r){function a(){return new Promise(function(e,a){!function e(n,r,a,i){var u=E(t[n],t,r);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==typeof s&&o.call(s,"__await")?Promise.resolve(s.__await).then(function(t){e("next",t,a,i)},function(t){e("throw",t,a,i)}):Promise.resolve(s).then(function(t){l.value=t,a(l)},i)}i(u.arg)}(n,r,e,a)})}return e=e?e.then(a,a):a()}}function A(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,A(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=E(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,y):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}return{next:N}}function N(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,a=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(106),o)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e,n){t.exports=n(107)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(108)),o=p(n(48)),a=p(n(21)),i=p(n(13)),u=p(n(6)),l=p(n(12)),s=p(n(78)),c=p(n(53)),f=p(n(16)),d=p(n(52)),v=p(n(51));function p(t){return t&&t.__esModule?t:{default:t}}var y=function(){function t(){(0,u.default)(this,t);var e=[f.default.leftPlayerContainer,f.default.ownPlayerContainer,f.default.rightPlayerContainer,f.default.mainAreaContainer,f.default.scoreAreaContainer,f.default.timerAreaContainer,f.default.dipaiAreaContainer],n=!0,r=!1,o=void 0;try{for(var a,l=(0,i.default)(e);!(n=(a=l.next()).done);n=!0){var s=a.value;this.disableClick(s,f.default.CONTAINER_NO_CLICK)}}catch(t){r=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}this.enableRightClick(),this.disableDrag(),this.playerStateGenerator=null,this.leftPlayer=null,this.rightPlayer=null,this.ownPlayer=null}return(0,l.default)(t,[{key:"renderCards",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.PLAYER_CONTAINER_INSERT_DIRECTION_LTR;this.removeAllCards(t),Array.prototype.sort.call(e,s.default.cardSort);for(var r=0,o=0,a=f.default.OVERLAP_FACTOR,i=f.default.OVERLAP_FACTOR_TTB,u=0;u<e.length;u++){var l=e[u].val,d=e[u].type,v=e[u].iconPos,p=new c.default(l,d.toString(),v,t);t.appendChild(p.domInstance);var y=e.length,h=p.domInstance.offsetWidth,_=p.domInstance.offsetHeight,g=h+h*a*(y-1),x=_+_*i*(y-1),m=(t.offsetWidth-g)/2,E=(t.offsetHeight-_)/2,O=(t.offsetWidth-h)/2,C=(t.offsetHeight-x)/2;switch(n){case f.default.PLAYER_CONTAINER_INSERT_DIRECTION_LTR:0==u&&(r+=m),p.domInstance.style.left=r+"px",p.domInstance.style.bottom=E+"px",r+=h*a;break;case f.default.PLAYER_CONTAINER_INSERT_DIRECTION_TTB:0==u&&(o+=C),p.domInstance.style.top=o+"px",p.domInstance.style.left=O+"px",o+=_*i}}}},{key:"removeAllCards",value:function(t){var e=(0,a.default)(t.getElementsByClassName(f.default.CARD_CLASSNAME)),n=!0,r=!1,o=void 0;try{for(var u,l=(0,i.default)(e);!(n=(u=l.next()).done);n=!0){var s=u.value;t.removeChild(s)}}catch(t){r=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}}},{key:"shuffleNewCardList",value:function(){this.cardList=d.default.getNewCard()}},{key:"randomShuffleCards",value:function(t,e,n){var r=t.length;if(n.length<e){var o=Math.floor(Math.random()*r),a=t[o];Array.prototype.splice.call(t,o,1),n.push(a),this.randomShuffleCards(t,e,n)}return[n,t]}},{key:"dealCards",value:function(t){var e=this,n=(0,o.default)(f.default.players,3),a=n[0],i=n[1],u=n[2],l=this,s=r.default.mark(function e(){var n,o,s;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.randomShuffleCards(t,1,[])[0],Array.prototype.push.call(a.cardList,n[0]),1==a.isOwn?l.renderCards(f.default.ownPlayerContainer,a.cardList,f.default.PLAYER_CONTAINER_INSERT_DIRECTION_LTR):l.renderCards(f.default.leftPlayerContainer,a.cardList,f.default.PLAYER_CONTAINER_INSERT_DIRECTION_TTB),void(e.next=6);case 6:return o=l.randomShuffleCards(t,1,[])[0],Array.prototype.push.call(i.cardList,o[0]),1==i.isOwn?l.renderCards(f.default.ownPlayerContainer,i.cardList,f.default.PLAYER_CONTAINER_INSERT_DIRECTION_LTR):l.renderCards(f.default.leftPlayerContainer,i.cardList,f.default.PLAYER_CONTAINER_INSERT_DIRECTION_TTB),void(e.next=11);case 11:return s=l.randomShuffleCards(t,1,[])[0],Array.prototype.push.call(u.cardList,s[0]),1==u.isOwn?l.renderCards(f.default.ownPlayerContainer,u.cardList,f.default.PLAYER_CONTAINER_INSERT_DIRECTION_LTR):l.renderCards(f.default.rightPlayerContainer,u.cardList,f.default.PLAYER_CONTAINER_INSERT_DIRECTION_TTB),void(e.next=16);case 16:e.next=0;break;case 18:case"end":return e.stop()}},e,this)})(),c=setInterval(function(){17==a.cardList.length&&17==i.cardList.length&&17==u.cardList.length?(clearInterval(c),e.renderCards(f.default.dipaiAreaContainer,t,f.default.PLAYER_CONTAINER_INSERT_DIRECTION_LTR),e.disableClick(f.default.ownPlayerContainer,f.default.CONTAINER_CLICK),e.enableSwipeSelect()):s.next()},f.default.DEALCARD_RATE)}},{key:"rightClickDrawCards",value:function(t){return this.drawCards(),window.event.returnValue=!1,t.stopPropagation(),!1}},{key:"drawCards",value:function(){var t=f.default.ownPlayerContainer,e=(0,a.default)(t.getElementsByClassName(f.default.CARD_CLASSNAME)),n=[],r=!0,u=!1,l=void 0;try{for(var s,c=(0,i.default)(e);!(r=(s=c.next()).done);r=!0){var d=s.value;"true"==d.getAttribute("selected")&&n.push(d)}}catch(t){u=!0,l=t}finally{try{!r&&c.return&&c.return()}finally{if(u)throw l}}var v=[],p=void 0,y=!0,h=!1,_=void 0;try{for(var g,x=(0,i.default)(f.default.players);!(y=(g=x.next()).done);y=!0){var m=g.value;1==m.isOwn&&(p=m)}}catch(t){h=!0,_=t}finally{try{!y&&x.return&&x.return()}finally{if(h)throw _}}var E=!0,O=!1,C=void 0;try{for(var P,T=(0,i.default)(n);!(E=(P=T.next()).done);E=!0){var R=P.value,A=!0,w=!1,S=void 0;try{for(var I,L=(0,i.default)(p.cardList.entries());!(A=(I=L.next()).done);A=!0){var N=(0,o.default)(I.value,2),b=N[0],k=N[1];k.val==R.getAttribute("val")&&k.type==R.getAttribute("type")&&(v.push(k),p.cardList.splice(b,1))}}catch(t){w=!0,S=t}finally{try{!A&&L.return&&L.return()}finally{if(w)throw S}}}}catch(t){O=!0,C=t}finally{try{!E&&T.return&&T.return()}finally{if(O)throw C}}this.renderCards(f.default.mainAreaContainer,v,f.default.PLAYER_CONTAINER_INSERT_DIRECTION_LTR),this.renderCards(f.default.ownPlayerContainer,p.cardList,f.default.PLAYER_CONTAINER_INSERT_DIRECTION_LTR)}},{key:"initPlayers",value:function(){var t=new v.default("A"),e=new v.default("B"),n=new v.default("C");t.isOwn=!0,f.default.players=[t,e,n];s.default.random(0,2);var o=r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,f.default.players[0];case 3:return t.next=5,f.default.players[1];case 5:return t.next=7,f.default.players[2];case 7:t.next=0;break;case 9:case"end":return t.stop()}},t,this)});this.playerStateGenerator=o()}},{key:"setPlayerOrder",value:function(){}},{key:"nextPlayer",value:function(){return this.playerStateGenerator.next().value}},{key:"setCurrentPlayer",value:function(t){for(;;){var e=this.nextPlayer();e.name==t.name&&e.uuid==t.uuid&&(e.isCurrentPlayer=!0)}}},{key:"getCurrentPlayer",value:function(){var t=f.default.players,e=!0,n=!1,r=void 0;try{for(var o,a=(0,i.default)(t);!(e=(o=a.next()).done);e=!0){var u=o.value;if(1==u.isCurrentPlayer)return u}}catch(t){n=!0,r=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"disableClick",value:function(t,e){t.style.pointerEvents=e}},{key:"enableRightClick",value:function(){var t=this;document.getElementsByTagName("body")[0].addEventListener("contextmenu",function(e){return t.drawCards(),window.event.returnValue=!1,e.stopPropagation(),!1})}},{key:"enableSwipeSelect",value:function(){var t=f.default.ownPlayerContainer,e=0,n=0;t.addEventListener("mousedown",function(n){if(0==n.button){var r=n.clientX-(t.offsetLeft-t.offsetWidth/2);e=r}}),t.addEventListener("mouseup",function(t){if(0==t.button){var r=f.default.ownPlayerContainer,i=(0,a.default)(r.getElementsByClassName(f.default.CARD_CLASSNAME)),u=i[0],l=i[i.length-1],s=u.offsetWidth*f.default.OVERLAP_FACTOR,c=t.clientX-(r.offsetLeft-r.offsetWidth/2),d=(n=c)-e>=0?[e,n]:[n,e],v=(0,o.default)(d,2),p=v[0],y=v[1];if(!(y<u.offsetLeft||p>l.offsetRight)){var h=(p-u.offsetLeft)/s;h=h<0?0:Math.floor(h);var _=Math.floor((y-u.offsetLeft)/s);_>i.length-1&&(_=i.length-1),console.log(e,n,h,_);for(var g=h;g<=_;g++){var x=i[g];"false"==x.getAttribute("selected")||null==x.getAttribute("selected")?(x.style.transform="translateY(-3rem)",x.setAttribute("selected",!0)):"true"==x.getAttribute("selected")&&(x.style.transform="translateY(0)",x.setAttribute("selected",!1))}}}})}},{key:"disableDrag",value:function(){document.getElementsByTagName("body")[0].ondragstart=function(){return!1}}},{key:"flipDiPai",value:function(){var t=f.default.dipaiAreaContainer,e=(0,a.default)(t.getElementsByClassName(f.default.CARD_CLASSNAME)),n=!0,r=!1,o=void 0;try{for(var u,l=(0,i.default)(e);!(n=(u=l.next()).done);n=!0){var s=u.value,c=s.getAttribute("type"),v=s.getAttribute("val"),p=d.default.getIconPos(c,v);s.style.backgroundPosition=p}}catch(t){r=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}}}]),t}();e.default=y},function(t,e,n){"use strict";var r,o=l(n(16)),a=l(n(109)),i=l(n(50)),u=l(n(49));function l(t){return t&&t.__esModule?t:{default:t}}r=function(){o.default.init();var t=io.connect("http://localhost:3000");t.on(o.default.SOCKETIO_NEWS_PRIVATE,function(e){window.console.log("receive server message: "+e),t.emit(o.default.SOCKETIO_JOINROOM),window.console.log("client emit join room event")}),t.on(o.default.SOCKETIO_JOINROOM,function(t){alert(t)}),o.default.socket=t,u.default.show(),i.default.show();var e=new a.default;e.initPlayers(),e.shuffleNewCardList(),e.dealCards(e.cardList)},document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t,!1),r()},!1):document.attachEvent&&document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),r())})}]);
//# sourceMappingURL=main.bundle.js.map